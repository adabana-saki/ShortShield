@tailwind base;
@tailwind components;
@tailwind utilities;

/* Popup container */
.popup-container {
  @apply w-popup min-h-[300px] max-h-[500px] bg-white text-gray-900 flex flex-col;
}

/* Scrollable content area */
.popup-content {
  @apply flex-1 overflow-y-auto;
}

/* Header */
.popup-header {
  @apply flex items-center justify-between px-4 py-3 bg-primary-600 text-white;
}

.popup-title {
  @apply text-lg font-semibold;
}

/* Status indicator */
.status-badge {
  @apply inline-flex items-center px-2 py-1 text-xs font-medium rounded-full;
}

.status-badge-enabled {
  @apply bg-success text-white;
}

.status-badge-disabled {
  @apply bg-gray-400 text-white;
}

/* Toggle switch */
.toggle-container {
  @apply px-4 py-4 border-b border-gray-200;
}

.toggle-wrapper {
  @apply flex items-center justify-between;
}

.toggle-label {
  @apply text-sm font-medium text-gray-700;
}

.toggle-switch {
  @apply relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
}

.toggle-switch-enabled {
  @apply bg-primary-600;
}

.toggle-switch-disabled {
  @apply bg-gray-200;
}

.toggle-knob {
  @apply pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out;
}

.toggle-knob-enabled {
  @apply translate-x-5;
}

.toggle-knob-disabled {
  @apply translate-x-0;
}

/* Stats section */
.stats-container {
  @apply px-4 py-3 bg-gray-50;
}

.stats-grid {
  @apply grid grid-cols-2 gap-4;
}

.stat-item {
  @apply text-center;
}

.stat-value {
  @apply text-2xl font-bold text-primary-600;
}

.stat-label {
  @apply text-xs text-gray-500 mt-1;
}

/* Platform toggles */
.platforms-container {
  @apply px-4 py-3;
}

.platforms-title {
  @apply text-sm font-medium text-gray-700 mb-3;
}

.platform-item {
  @apply flex items-center justify-between py-2;
}

.platform-name {
  @apply flex items-center text-sm text-gray-600;
}

.platform-icon {
  @apply w-5 h-5 mr-2;
}

.platform-toggle {
  @apply relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out;
}

.platform-toggle-enabled {
  @apply bg-primary-500;
}

.platform-toggle-disabled {
  @apply bg-gray-200;
}

.platform-toggle-knob {
  @apply pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow transition duration-200 ease-in-out;
}

.platform-toggle-knob-enabled {
  @apply translate-x-4;
}

.platform-toggle-knob-disabled {
  @apply translate-x-0;
}

/* Footer */
.popup-footer {
  @apply px-4 py-3 border-t border-gray-200 bg-gray-50;
}

.settings-link {
  @apply flex items-center justify-center w-full py-2 text-sm font-medium text-primary-600 hover:text-primary-700 hover:bg-gray-100 rounded-md transition-colors;
}

.settings-icon {
  @apply w-4 h-4 mr-2;
}

/* Loading state */
.loading-container {
  @apply flex items-center justify-center min-h-[200px];
}

.loading-spinner {
  @apply w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin;
}

/* Error state */
.error-container {
  @apply px-4 py-6 text-center;
}

.error-message {
  @apply text-sm text-danger;
}

.retry-button {
  @apply mt-3 px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 transition-colors;
}

/* Popup tabs */
.popup-tabs {
  @apply flex border-b border-gray-200 px-2;
}

.popup-tab {
  @apply flex-1 py-2 px-2 text-xs font-medium text-gray-500 border-b-2 border-transparent transition-colors;
}

.popup-tab:hover {
  @apply text-gray-700;
}

.popup-tab.active {
  @apply text-primary-600 border-primary-600;
}

/* Schedule widget */
.schedule-widget {
  @apply px-4 py-3;
}

.schedule-widget-header {
  @apply flex items-center justify-between mb-3;
}

.schedule-widget-status {
  @apply flex items-center gap-2;
}

.schedule-widget-label {
  @apply text-sm font-medium text-gray-700;
}

.schedule-widget-badge {
  @apply px-2 py-0.5 text-xs font-medium rounded-full;
}

.schedule-widget-badge.active {
  @apply bg-green-100 text-green-700;
}

.schedule-widget-badge.inactive {
  @apply bg-gray-100 text-gray-500;
}

.schedule-toggle-button {
  @apply relative w-10 h-5 bg-gray-200 rounded-full transition-colors;
}

.schedule-toggle-button.enabled {
  @apply bg-primary-600;
}

.schedule-toggle-button .schedule-toggle-knob {
  @apply absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform;
}

.schedule-toggle-button.enabled .schedule-toggle-knob {
  @apply translate-x-5;
}

.schedule-widget-time {
  @apply text-center text-lg font-semibold text-gray-800 mb-3 py-2 bg-gray-50 rounded-md;
}

.schedule-widget-days {
  @apply flex justify-between gap-1;
}

.schedule-day-button {
  @apply flex-1 py-1.5 text-xs font-medium text-gray-500 bg-gray-100 rounded transition-colors;
}

.schedule-day-button:hover {
  @apply bg-gray-200;
}

.schedule-day-button.selected {
  @apply bg-primary-600 text-white;
}

/* Focus mode view */
.focus-view {
  @apply px-4 py-4;
}

/* Focus button container */
.focus-button-container {
  @apply flex flex-col items-center gap-4;
}

.focus-button-container.focus-active {
  @apply gap-3;
}

/* Duration selector */
.focus-duration-selector {
  @apply flex gap-2;
}

.focus-duration-option {
  @apply px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg transition-colors;
}

.focus-duration-option:hover {
  @apply bg-gray-200;
}

.focus-duration-option.selected {
  @apply bg-primary-600 text-white;
}

.focus-duration-option:disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* Start focus button */
.focus-start-button {
  @apply w-full flex items-center justify-center gap-2 px-6 py-3 text-base font-semibold text-white bg-primary-600 rounded-xl hover:bg-primary-700 transition-colors;
}

.focus-start-button:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.focus-icon {
  @apply w-5 h-5;
}

.focus-button-loading {
  @apply animate-pulse;
}

/* Focus active state */
.focus-active-indicator {
  @apply flex items-center gap-2 text-sm font-medium text-primary-600;
}

.focus-pulse {
  @apply w-2 h-2 bg-primary-600 rounded-full animate-pulse;
}

.focus-active-text {
  @apply text-primary-700;
}

.focus-cancel-button {
  @apply w-full py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors;
}

.focus-cancel-button:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.focus-error {
  @apply text-xs text-danger text-center;
}

/* Focus countdown */
.focus-countdown {
  @apply flex flex-col items-center gap-4 mb-4;
}

.focus-countdown-circle {
  @apply relative w-32 h-32;
}

.focus-countdown-svg {
  @apply w-full h-full;
}

.focus-progress-ring {
  @apply transition-all duration-1000 ease-linear;
}

.focus-countdown-time {
  @apply absolute inset-0 flex flex-col items-center justify-center;
}

.focus-time-value {
  @apply text-2xl font-bold text-gray-800;
}

.focus-time-label {
  @apply text-xs text-gray-500;
}

/* Focus extend options */
.focus-extend-options {
  @apply flex flex-col items-center gap-2;
}

.focus-extend-label {
  @apply text-xs text-gray-500;
}

.focus-extend-buttons {
  @apply flex gap-2;
}

.focus-extend-button {
  @apply px-3 py-1 text-xs font-medium text-primary-600 bg-primary-50 rounded-md hover:bg-primary-100 transition-colors;
}

.focus-extend-button:disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* Focus and Pomodoro sections */
.focus-section,
.pomodoro-section {
  @apply mb-6 pb-6 border-b border-gray-200;
}

.focus-section:last-child,
.pomodoro-section:last-child {
  @apply mb-0 pb-0 border-b-0;
}

.focus-section-title,
.pomodoro-section-title {
  @apply text-sm font-semibold text-gray-800 mb-3 text-center;
}

/* Pomodoro timer */
.pomodoro-timer {
  @apply flex flex-col items-center gap-3 mb-4;
}

.pomodoro-timer-circle {
  @apply relative w-28 h-28;
}

.pomodoro-timer-svg {
  @apply w-full h-full;
}

.pomodoro-progress-ring {
  @apply transition-all duration-1000 ease-linear;
}

.pomodoro-timer-content {
  @apply absolute inset-0 flex flex-col items-center justify-center;
}

.pomodoro-time-value {
  @apply text-xl font-bold text-gray-800;
}

.pomodoro-mode-label {
  @apply text-xs font-medium mt-0.5;
}

/* Pomodoro session counter */
.pomodoro-session-counter {
  @apply flex items-center gap-2 text-sm text-gray-600;
}

.pomodoro-session-label {
  @apply text-xs text-gray-500;
}

.pomodoro-session-value {
  @apply font-semibold text-primary-600;
}

/* Pomodoro controls */
.pomodoro-controls {
  @apply flex flex-col items-center gap-3;
}

/* Mode selection buttons */
.pomodoro-mode-selection {
  @apply flex gap-2 w-full;
}

.pomodoro-mode-button {
  @apply flex-1 py-2.5 px-4 text-sm font-medium rounded-lg transition-colors;
}

.pomodoro-mode-work {
  @apply bg-primary-600 text-white hover:bg-primary-700;
}

.pomodoro-mode-break {
  @apply bg-green-100 text-green-700 hover:bg-green-200;
}

.pomodoro-mode-button:disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* Action buttons */
.pomodoro-action-buttons {
  @apply flex items-center justify-center gap-3;
}

.pomodoro-action-button {
  @apply flex items-center justify-center w-12 h-12 rounded-full transition-colors;
}

.pomodoro-play,
.pomodoro-pause {
  @apply bg-primary-600 text-white hover:bg-primary-700;
}

.pomodoro-skip {
  @apply bg-gray-200 text-gray-600 hover:bg-gray-300;
}

.pomodoro-stop {
  @apply bg-red-100 text-red-600 hover:bg-red-200;
}

.pomodoro-action-button:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.pomodoro-action-button svg {
  @apply w-5 h-5;
}

/* Time Usage Section */
.time-usage-section {
  @apply mt-4 pt-4 border-t border-gray-200;
}

.time-usage-title {
  @apply text-sm font-semibold text-gray-700 mb-3;
}

.time-usage-list {
  @apply flex flex-col gap-3;
}

.time-usage-item {
  @apply flex flex-col gap-1;
}

.time-usage-header {
  @apply flex items-center justify-between;
}

.time-usage-header .platform-name {
  @apply text-sm font-medium text-gray-700;
}

.time-usage-header .usage-time {
  @apply text-sm text-gray-600;
}

.time-usage-header .usage-limit {
  @apply text-gray-400;
}

.usage-progress-bar {
  @apply w-full h-2 bg-gray-200 rounded-full overflow-hidden;
}

.usage-progress-fill {
  @apply h-full rounded-full transition-all duration-300;
}

/* ===================================
   NEW UI: Single Scroll Popup Design
   =================================== */

/* New Header */
.popup-header-new {
  @apply flex items-center justify-between px-4 py-3 bg-white border-b border-gray-100;
}

.popup-header-left {
  @apply flex items-center gap-2;
}

.popup-logo {
  @apply w-6 h-6 text-primary-600;
}

.popup-title-new {
  @apply text-base font-bold text-gray-900;
}

/* Popup Toggle */
.popup-toggle {
  @apply relative inline-block w-12 h-7 cursor-pointer;
}

.popup-toggle input {
  @apply opacity-0 w-0 h-0;
}

.popup-toggle-slider {
  @apply absolute inset-0 bg-gray-300 rounded-full transition-colors duration-200;
}

.popup-toggle-slider::before {
  @apply absolute content-[''] h-5 w-5 left-1 bottom-1 bg-white rounded-full shadow transition-transform duration-200;
}

.popup-toggle input:checked + .popup-toggle-slider {
  @apply bg-primary-600;
}

.popup-toggle input:checked + .popup-toggle-slider::before {
  @apply translate-x-5;
}

/* Scrollable Content */
.popup-scroll-content {
  @apply flex-1 overflow-y-auto px-4 py-3 space-y-3;
}

/* New Footer */
.popup-footer-new {
  @apply px-4 py-2 border-t border-gray-100 bg-gray-50;
}

.popup-settings-btn {
  @apply w-full flex items-center justify-center gap-2 py-2 text-sm font-medium text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-lg transition-colors;
}

.popup-settings-btn svg {
  @apply w-4 h-4;
}

/* Loading & Error */
.popup-loading {
  @apply flex items-center justify-center py-16;
}

.popup-error {
  @apply text-center py-8;
}

.popup-error p {
  @apply text-sm text-red-600 mb-3;
}

.popup-error button {
  @apply px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700;
}

/* ===================================
   Timer Widget
   =================================== */

.timer-widget {
  @apply bg-gray-50 rounded-xl p-4;
}

.timer-header {
  @apply flex items-center justify-between mb-3;
}

.timer-label {
  @apply text-sm text-gray-600;
}

.timer-mode-badge {
  @apply px-2 py-1 text-xs font-medium rounded-full;
}

.timer-mode-badge.focus {
  @apply bg-primary-100 text-primary-700;
}

.timer-mode-badge.work {
  @apply bg-primary-100 text-primary-700;
}

.timer-mode-badge.break {
  @apply bg-green-100 text-green-700;
}

.timer-mode-badge.long-break {
  @apply bg-blue-100 text-blue-700;
}

.timer-display {
  @apply relative w-24 h-24 mx-auto mb-3;
}

.timer-circle {
  @apply w-full h-full -rotate-90;
}

.timer-circle-bg {
  @apply stroke-gray-200;
}

.timer-circle-progress {
  @apply transition-all duration-1000 ease-linear;
}

.timer-circle-progress.focus {
  @apply stroke-primary-500;
}

.timer-circle-progress.work {
  @apply stroke-primary-500;
}

.timer-circle-progress.break {
  @apply stroke-green-500;
}

.timer-circle-progress.long-break {
  @apply stroke-blue-500;
}

.timer-time {
  @apply absolute inset-0 flex items-center justify-center text-2xl font-bold text-gray-800;
}

.timer-action-btn {
  @apply w-full py-2 text-sm font-medium rounded-lg transition-colors;
}

.timer-action-btn.danger {
  @apply text-red-600 hover:bg-red-50;
}

.timer-controls {
  @apply flex items-center justify-center gap-3;
}

.timer-control-btn {
  @apply w-10 h-10 flex items-center justify-center rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors;
}

.timer-control-btn.danger {
  @apply text-red-600 hover:bg-red-50;
}

.timer-control-btn svg {
  @apply w-5 h-5;
}

/* ===================================
   Compact Stats
   =================================== */

.compact-stats {
  @apply flex items-center justify-around py-2 bg-gray-50 rounded-lg;
}

.compact-stat {
  @apply flex flex-col items-center;
}

.compact-stat.streak {
  @apply flex-row gap-1;
}

.compact-stat-icon {
  @apply w-4 h-4 text-yellow-500;
}

.compact-stat-icon svg {
  @apply w-full h-full;
}

.compact-stat-value {
  @apply text-lg font-bold text-gray-800;
}

.compact-stat-label {
  @apply text-xs text-gray-500;
}

.compact-stat.streak .compact-stat-value {
  @apply text-yellow-600;
}

/* ===================================
   Platform Grid
   =================================== */

.platform-grid-container {
  @apply bg-white rounded-lg border border-gray-200;
}

.platform-grid-header {
  @apply w-full flex items-center justify-between px-3 py-2;
}

.platform-grid-title {
  @apply text-sm font-medium text-gray-700 flex items-center gap-2;
}

.platform-grid-count {
  @apply px-1.5 py-0.5 text-xs font-medium bg-primary-100 text-primary-700 rounded-full;
}

.platform-grid-chevron {
  @apply w-4 h-4 text-gray-400 transition-transform duration-200;
}

.platform-grid-chevron.expanded {
  @apply rotate-180;
}

.platform-grid-chevron svg {
  @apply w-full h-full;
}

.platform-grid-content {
  @apply px-3 pb-3 space-y-3;
}

.platform-grid-section {
  @apply space-y-2;
}

.platform-grid-section-title {
  @apply text-xs font-medium text-gray-500 uppercase;
}

.platform-grid {
  @apply grid grid-cols-2 gap-2;
}

.platform-grid-item {
  @apply flex items-center gap-2 px-2 py-1.5 bg-gray-50 rounded-md cursor-pointer hover:bg-gray-100 transition-colors;
}

.platform-grid-item.disabled {
  @apply opacity-50 cursor-not-allowed;
}

.platform-grid-item input[type='checkbox'] {
  @apply w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500;
}

.platform-grid-name {
  @apply text-xs text-gray-700;
}

.platform-grid-summary {
  @apply flex flex-wrap gap-1.5 px-3 pb-3;
}

.platform-chip {
  @apply px-2 py-1 text-xs rounded-full;
}

.platform-chip.active {
  @apply bg-primary-100 text-primary-700;
}

.platform-chip.more {
  @apply bg-gray-100 text-gray-600;
}

/* ===================================
   Schedule Badge
   =================================== */

.schedule-badge {
  @apply flex items-center gap-2 px-3 py-2 rounded-lg;
}

.schedule-badge.active {
  @apply bg-green-50;
}

.schedule-badge.inactive {
  @apply bg-gray-50;
}

.schedule-badge-icon {
  @apply w-4 h-4;
}

.schedule-badge.active .schedule-badge-icon {
  @apply text-green-600;
}

.schedule-badge.inactive .schedule-badge-icon {
  @apply text-gray-400;
}

.schedule-badge-icon svg {
  @apply w-full h-full;
}

.schedule-badge-text {
  @apply text-xs font-medium;
}

.schedule-badge.active .schedule-badge-text {
  @apply text-green-700;
}

.schedule-badge.inactive .schedule-badge-text {
  @apply text-gray-500;
}

/* ===================================
   Focus Launcher
   =================================== */

.focus-launcher {
  @apply bg-white rounded-lg border border-gray-200 p-3;
}

.focus-launcher-tabs {
  @apply flex gap-2 mb-3;
}

.focus-launcher-tab {
  @apply flex-1 py-2 text-xs font-medium text-gray-500 bg-gray-100 rounded-lg transition-colors;
}

.focus-launcher-tab:hover:not(:disabled) {
  @apply bg-gray-200;
}

.focus-launcher-tab.active {
  @apply bg-primary-100 text-primary-700;
}

.focus-launcher-tab:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.focus-launcher-content {
  @apply flex flex-col items-center gap-3;
}

.focus-duration-selector {
  @apply flex gap-2;
}

.focus-duration-btn {
  @apply px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg transition-colors;
}

.focus-duration-btn:hover:not(:disabled) {
  @apply bg-gray-200;
}

.focus-duration-btn.active {
  @apply bg-primary-100 text-primary-700;
}

.focus-duration-btn:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.focus-start-btn {
  @apply w-full flex items-center justify-center gap-2 py-3 text-sm font-semibold text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors;
}

.focus-start-btn:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.focus-start-btn svg {
  @apply w-4 h-4;
}

.pomodoro-info {
  @apply text-xs text-gray-500 text-center;
}

.focus-launcher-hint {
  @apply text-xs text-gray-400 text-center;
}

/* Block Site Button */
.block-site-section {
  @apply px-4 py-3 border-t border-gray-100 flex items-center gap-3;
}

.block-site-btn {
  @apply flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg transition-colors;
  @apply bg-gray-100 text-gray-700 hover:bg-gray-200;
}

.block-site-btn.blocked {
  @apply bg-red-50 text-red-600 hover:bg-red-100;
}

.block-site-btn:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.block-site-btn svg {
  @apply w-4 h-4;
}

.block-site-domain {
  @apply text-xs text-gray-500 truncate flex-1;
}
